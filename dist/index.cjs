"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("react"),Ye={zh:"预览","zh-CN":"预览"},Ke={zh:"编辑","zh-CN":"编辑"},He={"Add a link":{zh:"附加链接","zh-CN":"附加链接"},"Add bold text":{zh:"附加粗体","zh-CN":"附加粗体"},"Add checked list":{zh:"附加任务列表","zh-CN":"附加任务列表"},"Add header":{zh:"附加标题","zh-CN":"附加标题"},"Add image":{zh:"附加图像","zh-CN":"附加图像"},"Add italic text":{zh:"附加斜体","zh-CN":"附加斜体"},"Add ordered list":{zh:"附加有序列表","zh-CN":"附加有序列表"},"Add strikethrough text":{zh:"附加删除线","zh-CN":"附加删除线"},"Add unordered list":{zh:"附加无序列表","zh-CN":"附加无序列表"},"Insert a quote":{zh:"附加引用","zh-CN":"附加引用"},"Insert code":{zh:"附加代码","zh-CN":"附加代码"},Preview:Ye,Write:Ke};class Ve{langId="";setLangId=t=>{this.langId=t};gettext=(t,r="")=>{if(!this.langId)return t;const s=`${r||""}${t}`;return He?.[s]?.[this.langId]??t}}const h=new Ve;function Ge(n,t){if(!n)throw Error("Argument 'text' should be truthy");const r=a=>a===" "||a.charCodeAt(0)===10;let s=0,o=n.length;for(let a=t;a-1>-1;a--)if(r(n[a-1])){s=a;break}for(let a=t;a<n.length;a++)if(r(n[a])){o=a;break}return{start:s,end:o}}function S({text:n,selection:t}){return n&&n.length&&t.start===t.end?Ge(n,t.start):t}function ie(n="",t){if(t===0)return 0;let r=2,s=!0;for(let o=t-1;o>=0&&r>=0;o--)switch(n.charCodeAt(o)){case 32:continue;case 10:r--,s=!1;break;default:return r}return s?0:r}function le(n="",t){if(t===n.length-1)return 0;let r=2,s=!0;for(let o=t;o<n.length&&r>=0;o++)switch(n.charCodeAt(o)){case 32:continue;case 10:{r--,s=!1;break}default:return r}return s?0:r}const Ue=()=>({buttonProps:{"aria-label":h.gettext("Add bold text"),title:h.gettext("Add bold text")},execute:({initialState:n,textApi:t,setText:r})=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s),a=t.replaceSelection(`**${o.selectedText}**`);r(t.setSelectionRange({start:a.selection.end-2-o.selectedText.length,end:a.selection.end-2}).text)},handleKeyCommand:n=>(n.ctrlKey||n.metaKey)&&n.key==="b"}),Je=()=>({buttonProps:{"aria-label":h.gettext("Insert code"),title:h.gettext("Insert code")},execute:({initialState:n,textApi:t,setText:r})=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s);if(o.selectedText.indexOf(`
`)===-1){t.replaceSelection(`\`${o.selectedText}\``);const b=o.selection.start+1,E=b+o.selectedText.length;t.setSelectionRange({start:b,end:E});return}const a=ie(o.text,o.selection.start),d=Array(a+1).join(`
`),f=le(o.text,o.selection.end),v=Array(f+1).join(`
`);t.replaceSelection(`${d}\`\`\`
${o.selectedText}
\`\`\`${v}`);const m=o.selection.start+a+4,p=m+o.selectedText.length;r(t.setSelectionRange({start:m,end:p}).text)}}),Xe=(n,t,r)=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s),a=t.replaceSelection(`${r}${o.selectedText}`);return t.setSelectionRange({start:a.selection.end-o.selectedText.length,end:a.selection.end})},Fe=()=>({buttonProps:{"aria-label":h.gettext("Add header"),title:h.gettext("Add header")},execute:({initialState:n,textApi:t,setText:r})=>{r(Xe(n,t,"### ").text)}}),Qe=()=>({buttonProps:{"aria-label":h.gettext("Add image"),title:h.gettext("Add image")},execute:({initialState:n,textApi:t,setText:r})=>{const s=t.setSelectionRange(S({text:n.text,selection:n.selection})),o=s.selectedText||"https://example.com/your-image.png";t.replaceSelection(`![](${o})`),r(t.setSelectionRange({start:s.selection.start+4,end:s.selection.start+4+o.length}).text)}}),Ze=()=>({buttonProps:{"aria-label":h.gettext("Add italic text"),title:h.gettext("Add italic text")},execute:({initialState:n,textApi:t,setText:r})=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s),a=t.replaceSelection(`*${o.selectedText}*`);r(t.setSelectionRange({start:a.selection.end-1-o.selectedText.length,end:a.selection.end-1}).text)},handleKeyCommand:n=>(n.ctrlKey||n.metaKey)&&n.key==="i"}),De=()=>({buttonProps:{"aria-label":h.gettext("Add a link"),title:h.gettext("Add a link")},execute:({initialState:n,textApi:t,setText:r})=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s),a=t.replaceSelection(`[${o.selectedText}](url)`);r(t.setSelectionRange({start:a.selection.end-6-o.selectedText.length,end:a.selection.end-6}).text)},handleKeyCommand:n=>(n.ctrlKey||n.metaKey)&&n.key==="k"});function et(n,t){const r=n.split(/\n/);let s=0;return{modifiedText:r.map((a,d)=>{if(typeof t=="string")return s+=t.length,t+a;if(typeof t=="function"){const f=t(a,d);return s+=f.length,t(a,d)+a}throw Error("insertion is expected to be either a string or a function")}).join(`
`),insertionLength:s}}const de=(n,t,r)=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s),a=ie(o.text,o.selection.start),d=Array(a+1).join(`
`),f=le(o.text,o.selection.end),v=Array(f+1).join(`
`),m=et(o.selectedText,r);t.replaceSelection(`${d}${m.modifiedText}${v}`);const p=o.selectedText.indexOf(`
`)===-1?m.insertionLength:0,b=o.selection.start+a+p,E=b+m.modifiedText.length-p;return t.setSelectionRange({start:b,end:E})},tt=()=>({buttonProps:{"aria-label":h.gettext("Add unordered list"),title:h.gettext("Add unordered list")},execute:({initialState:n,textApi:t,setText:r})=>{r(de(n,t,"- ").text)}}),nt=()=>({buttonProps:{"aria-label":h.gettext("Add ordered list"),title:h.gettext("Add ordered list")},execute:({initialState:n,textApi:t,setText:r})=>{r(de(n,t,(s,o)=>`${o+1}. `).text)}}),ot=()=>({buttonProps:{"aria-label":h.gettext("Add checked list"),title:h.gettext("Add checked list")},execute:({initialState:n,textApi:t,setText:r})=>{r(de(n,t,()=>"- [ ] ").text)}}),rt=()=>({buttonProps:{"aria-label":h.gettext("Insert a quote"),title:h.gettext("Insert a quote")},execute:({initialState:n,textApi:t,setText:r})=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s),a=ie(o.text,o.selection.start),d=Array(a+1).join(`
`),f=le(o.text,o.selection.end),v=Array(f+1).join(`
`);t.replaceSelection(`${d}> ${o.selectedText}${v}`);const m=o.selection.start+a+2,p=m+o.selectedText.length;r(t.setSelectionRange({start:m,end:p}).text)}}),at=()=>({buttonProps:{"aria-label":h.gettext("Add strikethrough text"),title:h.gettext("Add strikethrough text")},execute:({initialState:n,textApi:t,setText:r})=>{const s=S({text:n.text,selection:n.selection}),o=t.setSelectionRange(s),a=t.replaceSelection(`~~${o.selectedText}~~`);r(t.setSelectionRange({start:a.selection.end-2-o.selectedText.length,end:a.selection.end-2}).text)}}),Pe=()=>[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unorderedList","orderedList","checkedList"]],ue=()=>({header:Fe,bold:Ue,italic:Ze,strikethrough:at,link:De,quote:rt,code:Je,image:Qe,unorderedList:tt,orderedList:nt,checkedList:ot});function st(){return"save-image"}var X={exports:{}},V={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re;function ct(){if(Re)return V;Re=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,o,a){var d=null;if(a!==void 0&&(d=""+a),o.key!==void 0&&(d=""+o.key),"key"in o){a={};for(var f in o)f!=="key"&&(a[f]=o[f])}else a=o;return o=a.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:a}}return V.Fragment=t,V.jsx=r,V.jsxs=r,V}var G={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je;function it(){return je||(je=1,process.env.NODE_ENV!=="production"&&function(){function n(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case Z:return"Portal";case N:return"Profiler";case L:return"StrictMode";case ee:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case me:return(e.displayName||"Context")+".Provider";case fe:return(e._context.displayName||"Context")+".Consumer";case D:var c=e.render;return e=e.displayName,e||(e=c.displayName||c.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return c=e.displayName||null,c!==null?c:n(e.type)||"Memo";case oe:c=e._payload,e=e._init;try{return n(e(c))}catch{}}return null}function t(e){return""+e}function r(e){try{t(e);var c=!1}catch{c=!0}if(c){c=console;var i=c.error,u=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return i.call(c,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",u),t(e)}}function s(){}function o(){if(K===0){xe=console.log,be=console.info,ve=console.warn,pe=console.error,ye=console.group,ke=console.groupCollapsed,Ce=console.groupEnd;var e={configurable:!0,enumerable:!0,value:s,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}K++}function a(){if(K--,K===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:O({},e,{value:xe}),info:O({},e,{value:be}),warn:O({},e,{value:ve}),error:O({},e,{value:pe}),group:O({},e,{value:ye}),groupCollapsed:O({},e,{value:ke}),groupEnd:O({},e,{value:Ce})})}0>K&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function d(e){if(ae===void 0)try{throw Error()}catch(i){var c=i.stack.trim().match(/\n( *(at )?)/);ae=c&&c[1]||"",Ee=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+e+Ee}function f(e,c){if(!e||se)return"";var i=ce.get(e);if(i!==void 0)return i;se=!0,i=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var u=null;u=M.H,M.H=null,o();try{var k={DetermineComponentFrameRoot:function(){try{if(c){var A=function(){throw Error()};if(Object.defineProperty(A.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(A,[])}catch(j){var J=j}Reflect.construct(e,[],A)}else{try{A.call()}catch(j){J=j}e.call(A.prototype)}}else{try{throw Error()}catch(j){J=j}(A=e())&&typeof A.catch=="function"&&A.catch(function(){})}}catch(j){if(j&&J&&typeof j.stack=="string")return[j.stack,J.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=k.DetermineComponentFrameRoot(),R=l[0],B=l[1];if(R&&B){var C=R.split(`
`),P=B.split(`
`);for(l=g=0;g<C.length&&!C[g].includes("DetermineComponentFrameRoot");)g++;for(;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;if(g===C.length||l===P.length)for(g=C.length-1,l=P.length-1;1<=g&&0<=l&&C[g]!==P[l];)l--;for(;1<=g&&0<=l;g--,l--)if(C[g]!==P[l]){if(g!==1||l!==1)do if(g--,l--,0>l||C[g]!==P[l]){var H=`
`+C[g].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),typeof e=="function"&&ce.set(e,H),H}while(1<=g&&0<=l);break}}}finally{se=!1,M.H=u,a(),Error.prepareStackTrace=i}return C=(C=e?e.displayName||e.name:"")?d(C):"",typeof e=="function"&&ce.set(e,C),C}function v(e){if(e==null)return"";if(typeof e=="function"){var c=e.prototype;return f(e,!(!c||!c.isReactComponent))}if(typeof e=="string")return d(e);switch(e){case ee:return d("Suspense");case te:return d("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case D:return e=f(e.render,!1),e;case ne:return v(e.type);case oe:c=e._payload,e=e._init;try{return v(e(c))}catch{}}return""}function m(){var e=M.A;return e===null?null:e.getOwner()}function p(e){if(ge.call(e,"key")){var c=Object.getOwnPropertyDescriptor(e,"key").get;if(c&&c.isReactWarning)return!1}return e.key!==void 0}function b(e,c){function i(){we||(we=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",c))}i.isReactWarning=!0,Object.defineProperty(e,"key",{get:i,configurable:!0})}function E(){var e=n(this.type);return Te[e]||(Te[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function _(e,c,i,u,k,g){return i=g.ref,e={$$typeof:Y,type:e,key:c,props:g,_owner:k},(i!==void 0?i:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:E}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function $(e,c,i,u,k,g){if(typeof e=="string"||typeof e=="function"||e===w||e===N||e===L||e===ee||e===te||e===Be||typeof e=="object"&&e!==null&&(e.$$typeof===oe||e.$$typeof===ne||e.$$typeof===me||e.$$typeof===fe||e.$$typeof===D||e.$$typeof===Ie||e.getModuleId!==void 0)){var l=c.children;if(l!==void 0)if(u)if(re(l)){for(u=0;u<l.length;u++)U(l[u],e);Object.freeze&&Object.freeze(l)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else U(l,e)}else l="",(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(l+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),e===null?u="null":re(e)?u="array":e!==void 0&&e.$$typeof===Y?(u="<"+(n(e.type)||"Unknown")+" />",l=" Did you accidentally export a JSX literal instead of a component?"):u=typeof e,console.error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",u,l);if(ge.call(c,"key")){l=n(e);var R=Object.keys(c).filter(function(C){return C!=="key"});u=0<R.length?"{key: someKey, "+R.join(": ..., ")+": ...}":"{key: someKey}",Se[l+u]||(R=0<R.length?"{"+R.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,u,l,R,l),Se[l+u]=!0)}if(l=null,i!==void 0&&(r(i),l=""+i),p(c)&&(r(c.key),l=""+c.key),"key"in c){i={};for(var B in c)B!=="key"&&(i[B]=c[B])}else i=c;return l&&b(i,typeof e=="function"?e.displayName||e.name||"Unknown":e),_(e,l,g,k,m(),i)}function U(e,c){if(typeof e=="object"&&e&&e.$$typeof!==We){if(re(e))for(var i=0;i<e.length;i++){var u=e[i];I(u)&&z(u,c)}else if(I(e))e._store&&(e._store.validated=1);else if(e===null||typeof e!="object"?i=null:(i=he&&e[he]||e["@@iterator"],i=typeof i=="function"?i:null),typeof i=="function"&&i!==e.entries&&(i=i.call(e),i!==e))for(;!(e=i.next()).done;)I(e.value)&&z(e.value,c)}}function I(e){return typeof e=="object"&&e!==null&&e.$$typeof===Y}function z(e,c){if(e._store&&!e._store.validated&&e.key==null&&(e._store.validated=1,c=W(c),!_e[c])){_e[c]=!0;var i="";e&&e._owner!=null&&e._owner!==m()&&(i=null,typeof e._owner.tag=="number"?i=n(e._owner.type):typeof e._owner.name=="string"&&(i=e._owner.name),i=" It was passed a child from "+i+".");var u=M.getCurrentStack;M.getCurrentStack=function(){var k=v(e.type);return u&&(k+=u()||""),k},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',c,i),M.getCurrentStack=u}}function W(e){var c="",i=m();return i&&(i=n(i.type))&&(c=`

Check the render method of \``+i+"`."),c||(e=n(e))&&(c=`

Check the top-level render call using <`+e+">."),c}var Q=y,Y=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),me=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),he=Symbol.iterator,qe=Symbol.for("react.client.reference"),M=Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=Object.prototype.hasOwnProperty,O=Object.assign,Ie=Symbol.for("react.client.reference"),re=Array.isArray,K=0,xe,be,ve,pe,ye,ke,Ce;s.__reactDisabledLog=!0;var ae,Ee,se=!1,ce=new(typeof WeakMap=="function"?WeakMap:Map),We=Symbol.for("react.client.reference"),we,Te={},Se={},_e={};G.Fragment=w,G.jsx=function(e,c,i,u,k){return $(e,c,i,!1,u,k)},G.jsxs=function(e,c,i,u,k){return $(e,c,i,!0,u,k)}}()),G}var Ae;function lt(){return Ae||(Ae=1,process.env.NODE_ENV==="production"?X.exports=ct():X.exports=it()),X.exports}var x=lt();const dt=(n,t)=>{n.setRangeText(t,n.selectionStart||0,n.selectionEnd||0,"select")};function ut(n){const t=[];for(const r in n)n.hasOwnProperty.call(n,r)&&n[r]().handleKeyCommand&&t.push(r);return t}class ft{refTextarea;constructor(t){this.refTextarea=t}replaceSelection=t=>{const r=this.refTextarea.current;return dt(r,t),F(r)};setSelectionRange=t=>{const r=this.refTextarea.current;return r.focus(),r.selectionStart=t.start,r.selectionEnd=t.end,F(r)};getState=()=>{const t=this.refTextarea.current;return F(t)}}const F=n=>({selection:{start:n.selectionStart,end:n.selectionEnd},text:n.value,selectedText:n.value.slice(n.selectionStart,n.selectionEnd)});class mt{setText;refTextarea;textApi;commandMap;keyActivatedCommands;isExecuting=!1;pasteOptions;constructor({setText:t,customCommands:r,refTextarea:s,pasteOptions:o}){if(o&&!o.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap={...ue(),...r||{}},this.pasteOptions=o,this.keyActivatedCommands=ut(r),this.refTextarea=s,this.textApi=new ft(s),this.setText=t}getCommand=t=>{const r=this.commandMap[t];if(!r)throw new Error(`Cannot execute command. Command not found: ${t}`);return r()};handleKeyCommand=async t=>{for(const r of this.keyActivatedCommands)if(this.getCommand(r)?.handleKeyCommand?.(t))return await this.executeCommand(r),!0;return!1};executeCommand=async(t,r)=>{if(this.isExecuting)return;this.isExecuting=!0;const s=this.refTextarea.current,o=F(s);await this.getCommand(t).execute({setText:this.setText,initialState:o,textApi:this.textApi,context:r}),this.isExecuting=!1};executeSelectImageCommand=async t=>{if(this.pasteOptions)return this.executeCommand(this.pasteOptions.command||st(),{pasteOptions:this.pasteOptions,event:t})};getCommandByName=t=>this.commandMap[t]}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$e=(...n)=>n.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=y.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:d,...f},v)=>y.createElement("svg",{ref:v,...gt,width:t,height:t,stroke:n,strokeWidth:s?Number(r)*24/Number(t):r,className:$e("lucide",o),...f},[...d.map(([m,p])=>y.createElement(m,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=(n,t)=>{const r=y.forwardRef(({className:s,...o},a)=>y.createElement(xt,{ref:a,iconNode:t,className:$e(`lucide-${ht(n)}`,s),...o}));return r.displayName=`${n}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=T("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=T("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=T("Heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=T("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=T("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=T("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=T("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=T("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=T("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=T("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=T("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),Rt="fc-mde__main_e76010f9ac3f69e6",jt={main:Rt},At=n=>x.jsx("div",{"data-fc-mde-svg-icon-container":!0,...n}),Nt=({icon:n})=>{const t={header:pt,bold:bt,italic:kt,strikethrough:_t,code:vt,quote:St,unorderedList:wt,orderedList:Tt,checkedList:Et,link:Ct,image:yt}[n]??null;return t?x.jsx(At,{children:x.jsx(t,{className:jt.main,"data-fc-mde-svg-icon":!0})}):null},Mt="fc-mde__content_59ee8347a45e0596",Ne={content:Mt},ze=y.forwardRef(({markdown:n,generateMarkdownPreview:t,loadingPreview:r},s)=>{const[o,a]=y.useState(!0),[d,f]=y.useState(""),[v,m]=y.useState(""),p=y.useCallback(async()=>{f(await t(n)),a(!1)},[t,n]);y.useEffect(()=>{n!==v&&(p(),m(n))},[v,n,p]);let b=null;return o?b=x.jsx("div",{className:Ne.content,"data-fc-mde-preview-content":!0,children:r}):b=x.jsx("div",{className:Ne.content,ref:s,"data-fc-mde-preview-content":!0,dangerouslySetInnerHTML:{__html:d}}),x.jsx("div",{"data-mde-preview":!0,"data-loading":o||void 0,children:b})});ze.displayName="MdePreview";const Ot="fc-mde__container_5d480c472a769b14",Pt="fc-mde__main_bbe7a060507c7387",Me={container:Ot,main:Pt},Le=y.forwardRef(({value:n,setValue:t,textareaComponent:r,onKeyCommand:s,...o},a)=>{const d=r||"textarea",f=y.useCallback(m=>{m.preventDefault(),(m.clipboardData.files??[]).length},[]),v=y.useCallback(m=>{t(m.target.value)},[t]);return x.jsx("div",{className:Me.container,"data-fc-mde-textarea-container":!0,children:x.jsx(d,{ref:a,className:Me.main,value:n,onChange:v,onKeyDown:s,onPaste:f,"data-fc-mde-textarea":!0,...o})})});Le.displayName="MdeTextarea";const $t="fc-mde__tab_707475e156219802",zt="fc-mde__tabButton_5a17ac662ec07934",Lt="fc-mde__header_1d136c3d982ffdcc",Bt="fc-mde__btnGroup_b384efee5a15e109",qt="fc-mde__btn_a61d3b8445301110",q={tab:$t,tabButton:zt,header:Lt,btnGroup:Bt,btn:qt},It={tabIndex:-1},Wt=({buttonComponentClass:n,buttonContent:t,buttonProps:r,onClick:s,readOnly:o,name:a})=>{const d={...It,...r||{}},f=n||"button";return x.jsx("div",{className:q.btn,"data-fc-mde-toolbar-button":!0,children:y.createElement(f,{"data-fc-mde-toolbar-button-item":!0,"data-name":a,...d,onClick:s,disabled:o,type:"button"},t)})},Yt=({hidden:n,children:t})=>x.jsx("div",{className:q.btnGroup,"data-fc-mde-toolbar-button-group":!0,"data-hidden":n||void 0,children:t}),Kt=({onTabChange:n,buttons:t,onCommand:r,readOnly:s,disablePreview:o,writeButtonProps:a,previewButtonProps:d,tab:f,buttonProps:v})=>{const m=(b,E)=>{b.preventDefault(),n(E)};if(!t?.length)return null;const p=x.jsxs("div",{className:q.tab,"data-fc-mde-tab":!0,children:[x.jsx("button",{type:"button",className:q.tabButton,"data-fc-mde-tab-button":!0,onClick:b=>m(b,"write"),"data-active":f==="write"||void 0,...a,children:h.gettext("Write")}),x.jsx("button",{type:"button",className:q.tabButton,"data-fc-mde-tab-button":!0,onClick:b=>m(b,"preview"),"data-active":f==="preview"||void 0,...d,children:h.gettext("Preview")})]});return x.jsxs("div",{className:q.header,"data-fc-mde-header":!0,children:[o||p,t.map((b,E)=>x.jsx(Yt,{hidden:f==="preview",children:b.map((_,$)=>x.jsx(Wt,{name:_.commandName,buttonContent:_.buttonContent,buttonProps:{...v||{},..._.buttonProps},onClick:()=>r(_.commandName),readOnly:s,buttonComponentClass:_.buttonComponentClass},$))},E))]})},Ht="fc-mde__main_c29a242caf055ec0",Vt="fc-mde__container_8e4c12095dec4180",Oe={main:Ht,container:Vt},Gt=({setText:n,refTextarea:t,commands:r=ue(),toolbarCommands:s=Pe(),getIcon:o=z=>x.jsx(Nt,{icon:z}),readOnly:a=!1,selectedTab:d="write",disablePreview:f=!1,onTabChange:v,loadingPreview:m,text:p,generateMarkdownPreview:b,textareaComponent:E,commandButtons:_,writeButton:$,previewButton:U,textareaProps:I})=>{const z=y.useRef(null),W=new mt({setText:n,customCommands:r,refTextarea:t}),Q=w=>{v(w)},Y=async w=>{await W.executeCommand(w)},Z=s.map(w=>w.map(L=>{const N=W.getCommand(L);return{commandName:L,buttonContent:N.icon?N.icon(o):o(L),buttonProps:N.buttonProps,buttonComponentClass:N.buttonComponentClass}})).filter(w=>w);return x.jsxs("div",{className:Oe.main,"data-fc-mde":!0,children:[x.jsx(Kt,{buttons:Z,onCommand:Y,onTabChange:Q,tab:d,readOnly:a,disablePreview:f,buttonProps:_,writeButtonProps:$,previewButtonProps:U}),x.jsx("div",{className:Oe.container,"data-fc-mde-container":!0,"data-hidden":d==="preview"||void 0,children:x.jsx(Le,{ref:t,value:p,setValue:n,textareaComponent:E,onKeyCommand:W.handleKeyCommand,...I})}),d!=="write"&&x.jsx(ze,{ref:z,loadingPreview:m,generateMarkdownPreview:b,markdown:p})]})};exports.Mde=Gt;exports.getDefaultCommandMap=ue;exports.getDefaultToolbarCommands=Pe;exports.selectWord=S;
